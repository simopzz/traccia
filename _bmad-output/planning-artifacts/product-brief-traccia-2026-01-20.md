---
stepsCompleted: [1, 2, 3, 4, 5, 6]
inputDocuments:
  - _bmad-output/planning-artifacts/brainstorming.md
  - _bmad-output/planning-artifacts/research/market-unified-travel-app-research-2026-01-19.md
date: 2026-01-20
author: simo
project_name: traccia
---

# Product Brief: traccia

<!-- Content will be appended sequentially through collaborative workflow steps -->

## Executive Summary

**traccia** is a **Constraint-Based Travel Orchestrator** designed to solve "Stitching Fatigue"—the exhaustion caused by manually connecting logistics (TripIt) with discovery (Wanderlog).

While competitors focus on maximizing *content* (places to go), traccia focuses on optimizing *continuity* (the flow between them). It is the first travel tool to treat **User Energy** and **Cognitive Load** as finite resources. By fusing intelligent gap-filling algorithms, burnout prevention logic, and military-grade offline redundancies, we serve the **"Anxious Planner"** who demands certainty and the **"Pragmatic Maximizer"** who demands efficiency.

---

## Core Vision

### Problem Statement: The "Stitching Gap"

Travelers today face a dichotomy:
1.  **Logistics Tools (e.g., TripIt):** Great for "What time is my flight?" but useless for "What do I do for 3 hours before check-in?"
2.  **Discovery Tools (e.g., Wanderlog):** Great for "Top 10 spots," but fail to account for travel friction, opening hours, or human fatigue.

This gap forces users to become manual data processors, leading to **"Operational Fragility"**—where a single delay or dead battery creates chaos—and **"Itinerary Burnout,"** where aggressive scheduling ruins the actual experience.

### Problem Impact

*   **Decision Paralysis:** Users spend hours cross-referencing data, leading to stress before the trip even begins.
*   **Operational Failure:** Critical details fall through the cracks of disjointed systems (e.g., forgetting travel time between activities).
*   **Experience Degradation:** Rigid itineraries fail to account for human energy levels, resulting in exhausted travelers who can't enjoy their destination.
*   **Offline Vulnerability:** Reliance on cloud-only tools leaves travelers stranded when connectivity fails.

### Why Existing Solutions Fall Short

Current market leaders fail to address the holistic "flow" of a trip:
*   **Wanderlog** excels at visualization but lacks "guardrails" for pacing, allowing users to create impossible schedules.
*   **TripIt** is excellent for logistics storage but offers zero assistance in discovery or itinerary gap-filling.
*   **AI Chatbots (Layla, etc.)** provide inspiration but hallucinate details and lack deep, persistent editing tools for complex itineraries.

None of these tools effectively manage the *context* of the trip—the "vibe," the pacing, and the offline reality.

### Proposed Solution

**traccia** is not just a planner; it is a **Trip Reliability Engine**. It ingests fragmented plans and structures them into a cohesive, resilient narrative.

#### 1. The Opportunity Filler (Constraint-Based Discovery)
Unlike generic "Nearby" filters, this engine functions as a **Smart Concierge for Schedule Gaps**.
*   **Input:** "I have 2.5 hours between the Louvre and Dinner, located in the 1st Arrondissement, and it's raining."
*   **Output:** High-precision suggestions that fit strictly within the *Time*, *Location*, and *Context* constraints.
*   **The Win:** Eliminates "Blank Page Anxiety" by solving specific micro-problems rather than overwhelming the user with macro-choices.

#### 2. The Rhythm Guardian (Pacing & Energy Logic)
The first system to visualize **Trip Intensity**.
*   **Burnout Detection:** Analyzes the itinerary for "High-Friction Chains" (e.g., three museums in a row) and flags potential fatigue points.
*   **Buffer Enforcement:** Automatically suggests transition times and "decompression blocks" based on transit realism, ensuring the user actually makes their reservations.
*   **The Win:** Moves the user from "Optimistic Planning" to "Realistic Execution."

#### 3. Survival Export (Tactical Offline Redundancy)
Recognizing that cloud-dependency is a risk, this feature generates **Tactical Field Guides**—static, immutable artifacts designed for worst-case scenarios.
*   **Beyond the List:** Generates bilingual "Taxi Cards" (local language addresses), consolidated reservation codes, and essential "Last Mile" static maps.
*   **Tech-Agnostic:** Designed to be printed or saved as a deeply formatted PDF that requires zero battery or signal to function.
*   **The Win:** Provides the "Anxious Planner" with the ultimate psychological safety net.

### Strategic Positioning

We sit squarely in the **"Execution Phase"** of travel.
*   *We are not the inspiration engine (Instagram).*
*   *We are not the booking agent (Expedia).*
*   *We are the **Operational System** that ensures the trip actually works.*

## Target Users

### Primary Users

#### 1. Sarah, The "Anxious Planner"
*   **Role:** The designated "Trip Architect" for her group or family.
*   **Context:** She views travel as a high-stakes investment of time and money. Her enjoyment is directly tied to her confidence that "everything is under control."
*   **The Nightmare:** "The Domino Effect." She fears that one small slip-up (staying 20 minutes too long at lunch) will cause her to miss a pre-booked train, spiraling the whole day into chaos. She also fears "The Void"—being stuck in a foreign city with no signal and no idea where her hotel is.
*   **Current Workarounds:**
    *   Creates rigid, minute-by-minute Excel spreadsheets.
    *   Prints physical confirmations for everything, organized in a folder.
    *   Constantly checks Google Maps to re-verify transit times, draining her battery and mental energy.
*   **The Win:** The **Rhythm Guardian** validates her plan *before* she leaves ("Warning: 10 min buffer is insufficient for Tokyo Station"). The **Survival Export** gives her the psychological safety to put her phone away, knowing the "Truth" is printed in her pocket.

#### 2. David, The "Pragmatic Maximizer"
*   **Role:** The solo traveler or "Lead Explorer."
*   **Context:** He is energy-rich but time-poor. He hates "Tourist Traps" and "Dead Time." He wants to extract maximum value from every hour without feeling rushed.
*   **The Friction:** He finds Google Maps "dumb" because it answers "Where is X?" but not "What can I do *right now* in the 2 hours I have?" He hates scrolling through "Top 10" lists that suggest museums when he only has 45 minutes.
*   **The Aha! Moment:** He arrives at the Louvre early, has a 3-hour gap before dinner, and opens the app. The **Opportunity Filler** instantly suggests a niche photography exhibit 10 minutes away that fits *exactly* into his time window and matches his "Art & Design" vibe. No scrolling, just execution.

### Secondary Users

#### 3. The "Reluctant Companion" (Passive User)
*   **Role:** The partner, friend, or family member tagging along.
*   **Context:** They didn't plan the trip and don't want to install a new app. They just need to know "What's next?" and "Where are we sleeping?"
*   **Interaction:** They interact primarily through the **Survival Export** (PDF/Print) or a read-only web link shared by Sarah. They love the system because it reduces the friction of asking "Sarah, what time is the train?" every 20 minutes.

### User Journey

#### Sarah's Journey (From Anxiety to Zen)
1.  **Onboarding:** Imports her messy TripIt confirmations.
2.  **Validation (The Hook):** The **Rhythm Guardian** immediately flags 3 "High Risk" connections in her plan. She adjusts them, feeling a wave of relief.
3.  **Pre-Trip Ritual:** She generates the **Survival Export**, printing the "Tokyo Field Guide" (Bilingual cards + Maps). She puts it in her bag.
4.  **In-Trip Success:** Her phone battery dies at Shinjuku Station. Panic rises, then subsides. She pulls out the Field Guide, shows the taxi card to a driver, and gets to the hotel seamlessly.
5.  **Retention:** She will never travel without this "safety net" again.

#### David's Journey (From Dead Time to Discovery)
1.  **Onboarding:** Syncs his Google Calendar.
2.  **Gap Analysis:** The app highlights a 3-hour white space on Tuesday afternoon.
3.  **The "Magic" Suggestion:** He taps the gap. The **Opportunity Filler** doesn't just show "Nearby Places"—it suggests a specific "Afternoon Coffee & Jazz Record Store" loop that fits the rainy weather forecast.
4.  **Execution:** He follows the route. It feels serendipitous but was entirely engineered.
5.  **Retention:** He trusts the app as his "Local Fixer" that creates value out of thin air.

## Success Metrics

### User Success Metrics (The "Value Signal")

We measure success by the reduction of friction and the adoption of "Orchestrated" suggestions.

*   **Metric 1: The "Gap Fill" Rate (David's Metric)**
    *   *Definition:* The percentage of "Opportunity Filler" suggestions that are accepted and added to the final itinerary.
    *   *Why it matters:* This proves our suggestions are contextually relevant and high-quality, not just noise. It validates the "Context-Aware" algorithm.
    *   *Target:* > 30% conversion rate on suggestions (vs industry avg < 5%).

*   **Metric 2: The "Trust Loop" (Sarah's Metric)**
    *   *Definition:* The percentage of users who generate a **Survival Export** *and* return to the app within 7 days post-trip to view or organize their next journey.
    *   *Why it matters:* Since we can't track offline usage easily, "Return Rate" is the proxy for "The system saved me." If it didn't work, she wouldn't come back.
    *   *Target:* > 40% Retention Rate for users who generated a PDF.

### Business Objectives (Phase 1: Growth & Validation)

Our primary goal is to prove the utility of the "Orchestrator" model to drive organic growth.

*   **Objective 1: Organic User Acquisition**
    *   *Goal:* Achieve sustainable growth through word-of-mouth (the "Reluctant Companion" becoming a primary user).
    *   *Metric:* % of new signups originating from "Shared Itinerary" links or Survival Export QR codes.

*   **Objective 2: "Stitching" Volume**
    *   *Goal:* Validate that we are solving the *fragmentation* problem.
    *   *Metric:* Average number of external sources (emails, calendar events, map pins) imported per itinerary. High volume = high trust in us as the "Central Source of Truth."

### Key Performance Indicators (KPIs)

| Category | Metric | Measurement | Target (6 Months) |
| :--- | :--- | :--- | :--- |
| **Growth** | **Viral Coefficient (K-Factor)** | New users referred per existing user (via Share links) | > 1.2 |
| **Engagement** | **Session "Depth"** | Time spent *editing* vs *viewing*. We want *lower* editing times (efficiency) but *higher* viewing frequency. | Avg Edit Session < 5 mins |
| **Product Quality** | **Burnout Flag Resolution** | % of "Rhythm Guardian" warnings (e.g., "Too Rushed") that users actually fix. | > 60% Resolution Rate |

## MVP Scope

### Core Features (The "Reliability Protocol")

The MVP focuses purely on the **Individual Planner** (Sarah) and the **Execution Phase** of the trip.

*   **1. The "Orchestrator" Timeline:**
    *   A linear, single-stream view of the trip (Flights, Hotels, Events).
    *   *Constraint:* Manual entry + Calendar Read (Google/Apple Cal) only. No email parsing or API syncs.
    *   *Key Feature:* Automatic calculation of "Transit Buffers" between items (e.g., "You have 45 mins here").

*   **2. Basic Rhythm Flags (The Guardian v0.1):**
    *   Simple logic checks: "If (Time Between Events) < (Estimated Transit Time), Show Red Alert."
    *   No complex energy scoring yet. Just "Impossible Logic" detection.

*   **3. Opportunity Filler (Google Places Proxy):**
    *   Detects gaps > 2 hours.
    *   Provides a "Suggest Activity" button that performs a context-bounded Google Places search (Location = Previous Event End, Time = Gap Duration).
    *   *Constraint:* 3 suggestions max per gap to reduce decision fatigue.

*   **4. Survival Export (Print-Ready View):**
    *   A dedicated `/print` route with CSS optimized for A4/Letter paper.
    *   Auto-generates "Taxi Cards" (Large text address in local language) for every hotel/event.
    *   Includes a static QR code linking back to the live itinerary.

### Out of Scope for MVP

*   **Collaborative Editing:** Sarah plans alone; she shares read-only links.
*   **TripIt/Email Parsing:** Too high technical overhead for MVP.
*   **In-App Booking/Payments:** We are a signpost, not a merchant.
*   **Offline Native App:** We rely on the "Survival Export" (Browser Cache/PDF) instead of building a full PWA/Native offline syncing engine.
*   **Complex "Vibe" Filters:** No "Romantic vs. Business" filtering yet. Just "Open Now" and "Rating > 4.0".

### MVP Success Criteria

*   **Utility Validation:** 50% of beta users generate a "Survival Export" before their trip.
*   **Algorithm Trust:** Users accept (add to itinerary) at least 1 "Opportunity Filler" suggestion per trip.
*   **Technical Stability:** The "Print View" renders correctly on mobile and desktop browsers 99% of the time.

### Future Vision (Post-MVP)

*   **Phase 2: The "Smart" Guardian:** Introducing "Energy Scoring" (Mental vs Physical load) and weather integration.
*   **Phase 3: The Collaborative Hub:** Allowing "The Group" to vote on suggestions made by the Opportunity Filler.
*   **Phase 4: The "Local Fixer":** Partnerships with local vendors for exclusive, bookable experiences that fit the "Vibe."
